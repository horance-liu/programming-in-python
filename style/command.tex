\usepackage{array,tabularx}
\usepackage{colortbl}

\newenvironment{enum}
{
  \begin{spacing}{1.2}
  % \begin{enumerate}[1.]
  \begin{enumerate}
    \setlength{\itemsep}{0pt} 
    \setlength{\itemindent}{2em}
    %\setlength{\listparindent}{2em}
}{%
  \end{enumerate}
  \end{spacing}
}

\newenvironment{nitemize}
{
  \begin{itemize}
    \setlength{\itemsep}{0pt} 
    \setlength{\itemindent}{2em}
}{%
  \end{itemize}
}


\newcommand{\suggest}[1]{
\tikzstyle{mybox} = [draw=black, very thick,
rectangle, rounded corners, inner sep=9pt, inner ysep=20pt]
\tikzstyle{fancytitle} =[fill=white, text=black, ellipse]
\noindent
\begin{tikzpicture}
\node [mybox] (box){%
\begin{minipage}{\textwidth}
\fangsong
#1
\end{minipage}
};
\node[fancytitle, right=10pt] at (box.north west) {\emph{建议}};
% \node[fancytitle, rounded corners] at (box.east) {$\clubsuit$};
\end{tikzpicture}
}

\newcommand{\notice}[1]{
\tikzstyle{mybox} = [draw=black, very thick,
rectangle, rounded corners, inner sep=9pt, inner ysep=20pt]
\tikzstyle{fancytitle} =[fill=white, text=black]
\noindent
\begin{tikzpicture}
\node [mybox] (box){%
\begin{minipage}{\textwidth}
\fangsong
#1
\end{minipage}
};
\node[fancytitle, right=10pt] at (box.north west) {\emph{注意}};
%\node[fancytitle, rounded corners] at (box.east) {$\clubsuit$};
\end{tikzpicture}
}

\newcommand{\tip}[1]{
\tikzstyle{mybox} = [draw=black, very thick,
rectangle, rounded corners, inner sep=9pt, inner ysep=20pt]
\tikzstyle{fancytitle} =[fill=white, text=black]
\noindent
\begin{tikzpicture}
\node [mybox] (box){%
\begin{minipage}{\textwidth}
\fangsong
#1
\end{minipage}
};
\node[fancytitle, right=10pt] at (box.north west) {\emph{提示}};
%\node[fancytitle, rounded corners] at (box.east) {$\clubsuit$};
\end{tikzpicture}
}

\newcommand\refch[1]{\ascii{第\ref{ch:#1}章(\nameref{ch:#1})}}
\newcommand\refsec[1]{\ascii{\ref{sec:#1}节(\nameref{sec:#1})}}

% \newcommand\eitem[1]{\item {\optima {#1}}}
\newcommand\eitem[1]{\item {\itshape {#1}}}
\newcommand\cpp{\ascii{C\nobreak+\nobreak+}}
\newcommand\clang{\ascii{C}}
\newcommand\tf{\ascii{TensorFlow}}
\newcommand\docker{\ascii{Docker}}
\newcommand\kube{\ascii{Kubernetes}}
\newcommand\apiserver{\ascii{API Server}}
\newcommand\etcd{\ascii{ETCD}}
\newcommand\cm{\ascii{Controller Manager}}
\newcommand\sche{\ascii{Scheduler}}
\newcommand\Pod{\ascii{Pod}}
\newcommand\svc{\ascii{Service}}
\newcommand\ep{\ascii{Endpoint}}
\newcommand\vip{\ascii{ClusterIP}}

\newcommand\quo[1]{“#1”}

\newcommand\percent[1]{\ascii{#1\%}}

\newcommand{\trans}{\emph{事务}}
\newcommand{\act}{\emph{操作}}
\newcommand{\seqact}{\emph{顺序操作}}
\newcommand{\conact}{\emph{并发操作}}
\newcommand{\atomact}{\emph{基本操作}}
\newcommand{\syncact}{\emph{同步操作}}
\newcommand{\asynact}{\emph{异步操作}}
\newcommand{\action}[1]{\emph{\ascii{\itshape\_\_#1}}}
\newcommand{\sigwait}{\action{sig\_wait}}
\newcommand{\sigsync}{\action{sig\_sync}}
\newcommand{\sigreply}{\action{sig\_reply}}
\newcommand{\timerprot}{\action{timer\_prot}}
\newcommand{\unknownevet}{\ascii{UNKNOWN\_EVENT}}
\newcommand{\transdsl}{\ascii{Transaction DSL}}
\newcommand{\oper}[1]{\ascii{Action#1}}
\newcommand{\protproc}{\ascii{prot\_procedure}}

%\newcommand{\code}[1]{\ascii{\small{\texttt{#1}}}}
\newcommand{\code}[1]{\ascii{\footnotesize{\texttt{#1}}}}
\newcommand{\script}[1]{\ascii{\scriptsize{\texttt{#1}}}}


\newcommand{\inlinetitle}[1]{\large{\emph{#1}}}

%\newcommand{\Email}{\begingroup \def\UrlLeft{<}\def\UrlRight{>} \urlstyle{tt}\Url}
%\def\mailto|#1|{\href{mailto:#1}{Email|#1|}}
\newcommand{\contrib}[2]{#1\quad{\small\quad\textit{#2}}\\[1ex]}


\newcommand{\upcite}[1]{\textsuperscript{\cite{#1}}}

% todo list

% 使用方法
% \todobox{
%   \begin{todolist}
%   \item[\done] Frame the problem
%   \item Write solution
%   \item[\wontfix] profit
%   \end{todolist}
% }

\newcommand{\todobox}[1]{
\tikzstyle{mybox} = [draw=black, very thick,
rectangle, rounded corners, inner sep=9pt, inner ysep=20pt]
\tikzstyle{fancytitle} =[fill=white, text=black]
\noindent
\begin{tikzpicture}
\node [mybox] (box){%
\begin{minipage}{\textwidth}
\fangsong
#1
\end{minipage}
};
\node[fancytitle, right=10pt] at (box.north west) {\emph{TODO列表}};
%\node[fancytitle, rounded corners] at (box.east) {$\clubsuit$};
\end{tikzpicture}
}

\newtcolorbox{episode}[1]{enhanced jigsaw,breakable,pad at break*=1mm,colback=red!5!white, colframe=red!75!black,fonttitle=\bfseries, colbacktitle=red!85!black,enhanced, watermark color=white,watermark text=\Roman{tcbbreakpart},center title,title=#1}

\newtcolorbox[auto counter,number within=chapter]{nodiff}[1]{left=0mm,right=0mm,enhanced jigsaw,breakable,pad at break*=1mm,colback=red!5!white,colframe=red!75!black,fonttitle=\footnotesize\bfseries, colbacktitle=red!85!black,enhanced, attach boxed title to top left={yshift=-2mm}, watermark color=white,title=\code{#1}}

\newtcolorbox[auto counter,number within=chapter]{diff}[1]{toggle enlargement=forced,spread inwards=-2cm,spread outwards=-1.5cm,left=0mm,right=0mm,enhanced jigsaw,breakable,pad at break*=1mm,colback=red!5!white,colframe=red!75!black,fonttitle=\footnotesize\bfseries, colbacktitle=red!85!black,enhanced, attach boxed title to top left={yshift=-2mm}, watermark color=white,title=\code{#1},sidebyside,sidebyside align=top,sidebyside gap=2mm}

\newtcolorbox{inlinediff}{opacityframe=0.0,opacityback=0.0,boxrule=0.0mm,left=0mm,right=0mm,sidebyside,sidebyside align=top,sidebyside gap=2mm}

\newtcolorbox[auto counter,number within=chapter]{topdiff}[1]{toggle enlargement=forced,spread inwards=-2cm,spread outwards=-1.5cm,bottomrule=0mm,left=0mm,right=0mm,enhanced jigsaw,breakable,pad at break*=1mm,colback=red!5!white,colframe=red!75!black,fonttitle=\bfseries, colbacktitle=red!85!black,enhanced, attach boxed title to top left={yshift=-2mm}, watermark color=white,title=\code{#1},sidebyside,sidebyside align=top,sidebyside gap=2mm}

\newtcolorbox{mindiff}{toggle enlargement=forced,spread inwards=-2cm,spread outwards=-1.5cm, toprule=0mm,bottomrule=0mm,left=0mm,right=0mm,enhanced jigsaw,breakable,pad at break*=1mm,colback=red!5!white,colframe=red!75!black, colbacktitle=red!85!black,enhanced, attach boxed title to top left={yshift=-2mm}, watermark color=white,sidebyside,sidebyside align=top,sidebyside gap=2mm}

\newtcolorbox{lastdiff}{toggle enlargement=forced,spread inwards=-2cm,spread outwards=-1.5cm,toprule=0mm,left=0mm,right=0mm,enhanced jigsaw,breakable,pad at break*=1mm,colback=red!5!white,colframe=red!75!black, colbacktitle=red!85!black,enhanced, attach boxed title to top left={yshift=-2mm}, watermark color=white,sidebyside,sidebyside align=top,sidebyside gap=2mm}

\newtcolorbox{colortable}[2]{leftright skip=2cm,enhanced,fonttitle=\bfseries,fontupper=\footnotesize\sffamily,
colback=red!5!white,colframe=red!75!black, colbacktitle=red!85!black,center title,tabularx*={\arrayrulewidth0.25mm}{#1},title=#2}

\usepackage{enumitem,amssymb}
\usepackage{pifont}

\newlist{todolist}{itemize}{2}
\setlist[todolist]{label=$\square$}

\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}%
\newcommand{\done}{\rlap{$\square$}{\raisebox{2pt}{\large\hspace{1pt}\cmark}}%
\hspace{-2.5pt}}
\newcommand{\wontfix}{\rlap{$\square$}{\large\hspace{1pt}\xmark}}

